{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { finalize } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_service/product.service\";\nimport * as i2 from \"../_service/category.service\";\nimport * as i3 from \"../_service/family.service\";\nimport * as i4 from \"../_service/laboratory.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction ProductFormComponent_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", c_r3.idCategory ?? c_r3.idCategoria ?? c_r3.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r3.name ?? c_r3.nombre ?? c_r3.descripcion ?? c_r3.description);\n  }\n}\nfunction ProductFormComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \"Seleccione una categor\\u00EDa.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_29_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.categoriesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando categor\\u00EDas...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_option_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", f_r6.idFamily ?? f_r6.idFamilia ?? f_r6.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(f_r6.name ?? f_r6.nombre ?? f_r6.descripcion ?? f_r6.description);\n  }\n}\nfunction ProductFormComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \"Seleccione una familia.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_38_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.familiesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando familias...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_option_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", l_r8.idLaboratory ?? l_r8.idLaboratorio ?? l_r8.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(l_r8.name ?? l_r8.nombre ?? l_r8.descripcion ?? l_r8.description);\n  }\n}\nfunction ProductFormComponent_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \"Seleccione un laboratorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_47_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r4.laboratoriesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando laboratorios...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProductFormComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ProductFormComponent {\n    constructor(productService, categoryService, familyService, laboratoryService, route, router) {\n      this.productService = productService;\n      this.categoryService = categoryService;\n      this.familyService = familyService;\n      this.laboratoryService = laboratoryService;\n      this.route = route;\n      this.router = router;\n      this.product = {\n        name: '',\n        expired: false\n      };\n      this.isEditMode = false;\n      this.categories = [];\n      this.families = [];\n      this.laboratories = [];\n      this.selectedCategoryId = null;\n      this.selectedFamilyId = null;\n      this.selectedLaboratoryId = null;\n      // Flags de carga y error para catálogos\n      this.loadingCategories = false;\n      this.loadingFamilies = false;\n      this.loadingLaboratories = false;\n      this.categoriesError = null;\n      this.familiesError = null;\n      this.laboratoriesError = null;\n      this.apiBase = environment.apiUrl;\n      // Comparadores para selects\n      this.compareCategory = (a, b) => a && b ? a.idCategory === b.idCategory : a === b;\n      this.compareFamily = (a, b) => a && b ? a.idFamily === b.idFamily : a === b;\n      this.compareLaboratory = (a, b) => a && b ? a.idLaboratory === b.idLaboratory : a === b;\n    }\n    ngOnInit() {\n      // Cargar catálogos\n      this.loadCatalogs();\n      this.route.params.subscribe(params => {\n        if (params['id']) {\n          this.isEditMode = true;\n          this.productId = +params['id'];\n          this.loadProduct(this.productId);\n        }\n      });\n    }\n    loadCatalogs() {\n      // Categorías\n      this.loadingCategories = true;\n      this.categoriesError = null;\n      this.categoryService.list().pipe(finalize(() => this.loadingCategories = false)).subscribe({\n        next: data => {\n          console.log('Categorías cargadas:', data);\n          this.categories = data || [];\n        },\n        error: err => {\n          console.error('Error cargando categorías:', err);\n          this.categoriesError = `No se pudieron cargar categorías desde ${this.apiBase}/categories`;\n        }\n      });\n      // Familias\n      this.loadingFamilies = true;\n      this.familiesError = null;\n      this.familyService.list().pipe(finalize(() => this.loadingFamilies = false)).subscribe({\n        next: data => {\n          console.log('Familias cargadas:', data);\n          this.families = data || [];\n        },\n        error: err => {\n          console.error('Error cargando familias:', err);\n          this.familiesError = `No se pudieron cargar familias desde ${this.apiBase}/families`;\n        }\n      });\n      // Laboratorios\n      this.loadingLaboratories = true;\n      this.laboratoriesError = null;\n      this.laboratoryService.list().pipe(finalize(() => this.loadingLaboratories = false)).subscribe({\n        next: data => {\n          console.log('Laboratorios cargados:', data);\n          this.laboratories = data || [];\n        },\n        error: err => {\n          console.error('Error cargando laboratorios:', err);\n          this.laboratoriesError = `No se pudieron cargar laboratorios desde ${this.apiBase}/laboratories`;\n        }\n      });\n    }\n    loadProduct(id) {\n      this.productService.getById(id).subscribe({\n        next: data => {\n          this.product = data;\n          // Preseleccionar IDs en modo edición si existen (con tolerancia a distintos nombres de campos)\n          this.selectedCategoryId = data?.category?.idCategory ?? data?.category?.idCategoria ?? null;\n          this.selectedFamilyId = data?.family?.idFamily ?? data?.family?.idFamilia ?? null;\n          this.selectedLaboratoryId = data?.laboratory?.idLaboratory ?? data?.laboratory?.idLaboratorio ?? null;\n        },\n        error: err => {\n          console.error('Error al cargar producto:', err);\n          alert('Error al cargar el producto');\n          this.router.navigate(['/product']);\n        }\n      });\n    }\n    save(form) {\n      if (form.invalid) {\n        // Evitar enviar si el formulario es inválido\n        form.control.markAllAsTouched();\n        return;\n      }\n      // Preparar payload limpio - solo enviar campos que tienen valor\n      const payload = {\n        name: this.product.name,\n        expired: this.product.expired || false\n      };\n      // Agregar relaciones como objetos anidados (patrón común en Spring/JPA)\n      if (this.selectedCategoryId != null) {\n        payload.category = {\n          idCategory: Number(this.selectedCategoryId)\n        };\n      }\n      if (this.selectedFamilyId != null) {\n        payload.family = {\n          idFamily: Number(this.selectedFamilyId)\n        };\n      }\n      if (this.selectedLaboratoryId != null) {\n        payload.laboratory = {\n          idLaboratory: Number(this.selectedLaboratoryId)\n        };\n      }\n      // Solo agregar campos opcionales si tienen valor válido (no vacíos ni 0)\n      if (this.product.description && this.product.description.trim()) {\n        payload.description = this.product.description;\n      }\n      if (this.product.presentation && this.product.presentation.trim()) {\n        payload.presentation = this.product.presentation;\n      }\n      if (this.product.stock && this.product.stock > 0) {\n        payload.stock = this.product.stock;\n      }\n      if (this.product.unitPrice && this.product.unitPrice > 0) {\n        payload.unitPrice = this.product.unitPrice;\n      }\n      console.log('Payload a enviar:', JSON.stringify(payload, null, 2));\n      if (this.isEditMode && this.productId) {\n        payload.idProduct = this.productId;\n        this.productService.update(payload).subscribe({\n          next: response => {\n            console.log('Producto actualizado:', response);\n            alert('Producto actualizado exitosamente');\n            setTimeout(() => this.router.navigate(['/product']), 100);\n          },\n          error: err => {\n            console.error('Error completo:', err);\n            console.error('Error response:', err.error);\n            const msg = err?.error?.message || err?.error?.error || err?.message || 'Error desconocido';\n            alert(`Error al actualizar: ${msg}`);\n          }\n        });\n      } else {\n        this.productService.save(payload).subscribe({\n          next: response => {\n            console.log('Producto guardado:', response);\n            alert('Producto guardado exitosamente');\n            setTimeout(() => this.router.navigate(['/product']), 100);\n          },\n          error: err => {\n            console.error('Error completo:', err);\n            console.error('Error response:', err.error);\n            const msg = err?.error?.message || err?.error?.error || err?.message || 'Error desconocido';\n            alert(`Error al guardar: ${msg}`);\n          }\n        });\n      }\n    }\n    cancel() {\n      this.router.navigate(['/product']);\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ProductFormComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProductFormComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.FamilyService), i0.ɵɵdirectiveInject(i4.LaboratoryService), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i5.Router));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductFormComponent,\n      selectors: [[\"app-product-form\"]],\n      decls: 53,\n      vars: 27,\n      consts: [[\"f\", \"ngForm\"], [3, \"ngSubmit\"], [\"name\", \"name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"description\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"presentation\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"stock\", \"min\", \"0\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"unitPrice\", \"min\", \"0.01\", \"step\", \"0.01\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"checkbox\", \"name\", \"expired\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"categoryId\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"error\", 4, \"ngIf\"], [4, \"ngIf\"], [\"name\", \"familyId\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"laboratoryId\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"submit\", 3, \"disabled\"], [\"type\", \"button\", 3, \"click\"], [1, \"error\"]],\n      template: function ProductFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 1, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductFormComponent_Template_form_ngSubmit_2_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const f_r2 = i0.ɵɵreference(3);\n            return i0.ɵɵresetView(ctx.save(f_r2));\n          });\n          i0.ɵɵelementStart(4, \"label\");\n          i0.ɵɵtext(5, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 2);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.name, $event) || (ctx.product.name = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"label\");\n          i0.ɵɵtext(8, \"Descripci\\u00F3n (opcional)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.description, $event) || (ctx.product.description = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"label\");\n          i0.ɵɵtext(11, \"Presentaci\\u00F3n (opcional)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"input\", 4);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_12_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.presentation, $event) || (ctx.product.presentation = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"label\");\n          i0.ɵɵtext(14, \"Stock (opcional)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_15_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.stock, $event) || (ctx.product.stock = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"label\");\n          i0.ɵɵtext(17, \"Precio Unitario (opcional)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_18_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.unitPrice, $event) || (ctx.product.unitPrice = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"label\")(20, \"input\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.expired, $event) || (ctx.product.expired = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(21, \" Vencido \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"label\");\n          i0.ɵɵtext(23, \"Categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"select\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_24_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.selectedCategoryId, $event) || (ctx.selectedCategoryId = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(25, \"option\", 9);\n          i0.ɵɵtext(26, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(27, ProductFormComponent_option_27_Template, 2, 2, \"option\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, ProductFormComponent_div_28_Template, 2, 0, \"div\", 11)(29, ProductFormComponent_div_29_Template, 4, 1, \"div\", 11)(30, ProductFormComponent_div_30_Template, 2, 0, \"div\", 12);\n          i0.ɵɵelementStart(31, \"label\");\n          i0.ɵɵtext(32, \"Familia\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"select\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_33_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.selectedFamilyId, $event) || (ctx.selectedFamilyId = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(34, \"option\", 9);\n          i0.ɵɵtext(35, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(36, ProductFormComponent_option_36_Template, 2, 2, \"option\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(37, ProductFormComponent_div_37_Template, 2, 0, \"div\", 11)(38, ProductFormComponent_div_38_Template, 4, 1, \"div\", 11)(39, ProductFormComponent_div_39_Template, 2, 0, \"div\", 12);\n          i0.ɵɵelementStart(40, \"label\");\n          i0.ɵɵtext(41, \"Laboratorio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"select\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_42_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.selectedLaboratoryId, $event) || (ctx.selectedLaboratoryId = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(43, \"option\", 9);\n          i0.ɵɵtext(44, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(45, ProductFormComponent_option_45_Template, 2, 2, \"option\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(46, ProductFormComponent_div_46_Template, 2, 0, \"div\", 11)(47, ProductFormComponent_div_47_Template, 4, 1, \"div\", 11)(48, ProductFormComponent_div_48_Template, 2, 0, \"div\", 12);\n          i0.ɵɵelementStart(49, \"button\", 15);\n          i0.ɵɵtext(50);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(51, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function ProductFormComponent_Template_button_click_51_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cancel());\n          });\n          i0.ɵɵtext(52, \"Cancelar\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const f_r2 = i0.ɵɵreference(3);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Producto\" : \"Nuevo Producto\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.name);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.presentation);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.stock);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.unitPrice);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.expired);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedCategoryId);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", f_r2.submitted && ctx.selectedCategoryId === null);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.categoriesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingCategories);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedFamilyId);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.families);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", f_r2.submitted && ctx.selectedFamilyId === null);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.familiesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingFamilies);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedLaboratoryId);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.laboratories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", f_r2.submitted && ctx.selectedLaboratoryId === null);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.laboratoriesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingLaboratories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !f_r2.valid);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Actualizar\" : \"Guardar\");\n        }\n      },\n      dependencies: [CommonModule, i6.NgForOf, i6.NgIf, FormsModule, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.CheckboxControlValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MinValidator, i7.NgModel, i7.NgForm],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return ProductFormComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","finalize","environment","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","c_r3","idCategory","idCategoria","id","ɵɵadvance","ɵɵtextInterpolate","name","nombre","descripcion","description","ɵɵlistener","ProductFormComponent_div_29_Template_button_click_2_listener","ɵɵrestoreView","_r4","ctx_r4","ɵɵnextContext","ɵɵresetView","loadCatalogs","ɵɵtextInterpolate1","categoriesError","f_r6","idFamily","idFamilia","ProductFormComponent_div_38_Template_button_click_2_listener","_r7","familiesError","l_r8","idLaboratory","idLaboratorio","ProductFormComponent_div_47_Template_button_click_2_listener","_r9","laboratoriesError","ProductFormComponent","_staticBlock","constructor","productService","categoryService","familyService","laboratoryService","route","router","product","expired","isEditMode","categories","families","laboratories","selectedCategoryId","selectedFamilyId","selectedLaboratoryId","loadingCategories","loadingFamilies","loadingLaboratories","apiBase","apiUrl","compareCategory","a","b","compareFamily","compareLaboratory","ngOnInit","params","subscribe","productId","loadProduct","list","pipe","next","data","console","log","error","err","getById","category","family","laboratory","alert","navigate","save","form","invalid","control","markAllAsTouched","payload","Number","trim","presentation","stock","unitPrice","JSON","stringify","idProduct","update","response","setTimeout","msg","message","cancel","_","ɵɵdirectiveInject","i1","ProductService","i2","CategoryService","i3","FamilyService","i4","LaboratoryService","i5","ActivatedRoute","Router","selectors","decls","vars","consts","template","ProductFormComponent_Template","rf","ctx","ProductFormComponent_Template_form_ngSubmit_2_listener","_r1","f_r2","ɵɵreference","ɵɵtwoWayListener","ProductFormComponent_Template_input_ngModelChange_6_listener","$event","ɵɵtwoWayBindingSet","ProductFormComponent_Template_input_ngModelChange_9_listener","ProductFormComponent_Template_input_ngModelChange_12_listener","ProductFormComponent_Template_input_ngModelChange_15_listener","ProductFormComponent_Template_input_ngModelChange_18_listener","ProductFormComponent_Template_input_ngModelChange_20_listener","ProductFormComponent_Template_select_ngModelChange_24_listener","ɵɵtemplate","ProductFormComponent_option_27_Template","ProductFormComponent_div_28_Template","ProductFormComponent_div_29_Template","ProductFormComponent_div_30_Template","ProductFormComponent_Template_select_ngModelChange_33_listener","ProductFormComponent_option_36_Template","ProductFormComponent_div_37_Template","ProductFormComponent_div_38_Template","ProductFormComponent_div_39_Template","ProductFormComponent_Template_select_ngModelChange_42_listener","ProductFormComponent_option_45_Template","ProductFormComponent_div_46_Template","ProductFormComponent_div_47_Template","ProductFormComponent_div_48_Template","ProductFormComponent_Template_button_click_51_listener","ɵɵtwoWayProperty","submitted","valid","i6","NgForOf","NgIf","i7","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","NumberValueAccessor","CheckboxControlValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","MinValidator","NgModel","NgForm","encapsulation"],"sources":["C:\\Users\\PC-001\\Downloads\\appointmentapp-frontend-MaycolVasquezGallardo\\src\\app\\product\\product-form.component.ts","C:\\Users\\PC-001\\Downloads\\appointmentapp-frontend-MaycolVasquezGallardo\\src\\app\\product\\product-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, NgForm } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProductService } from '../_service/product.service';\nimport { Category } from '../_model/category';\nimport { Family } from '../_model/family';\nimport { Laboratory } from '../_model/laboratory';\nimport { CategoryService } from '../_service/category.service';\nimport { FamilyService } from '../_service/family.service';\nimport { LaboratoryService } from '../_service/laboratory.service';\nimport { Product } from '../_model/product';\nimport { finalize } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-product-form',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './product-form.component.html'\n})\nexport class ProductFormComponent implements OnInit {\n  product: Product = { \n    name: '', \n    expired: false \n  } as Product;\n  isEditMode = false;\n  productId?: number;\n\n  categories: Category[] = [];\n  families: Family[] = [];\n  laboratories: Laboratory[] = [];\n\n  selectedCategoryId: number | null = null;\n  selectedFamilyId: number | null = null;\n  selectedLaboratoryId: number | null = null;\n\n  // Flags de carga y error para catálogos\n  loadingCategories = false;\n  loadingFamilies = false;\n  loadingLaboratories = false;\n\n  categoriesError: string | null = null;\n  familiesError: string | null = null;\n  laboratoriesError: string | null = null;\n\n  apiBase = environment.apiUrl;\n\n  constructor(\n    private productService: ProductService,\n    private categoryService: CategoryService,\n    private familyService: FamilyService,\n    private laboratoryService: LaboratoryService,\n    private route: ActivatedRoute,\n    private router: Router\n  ){}\n\n  ngOnInit(): void {\n    // Cargar catálogos\n    this.loadCatalogs();\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.productId = +params['id'];\n        this.loadProduct(this.productId);\n      }\n    });\n  }\n\n  loadCatalogs(): void {\n    // Categorías\n    this.loadingCategories = true;\n    this.categoriesError = null;\n    this.categoryService.list()\n      .pipe(finalize(() => (this.loadingCategories = false)))\n      .subscribe({\n        next: (data) => {\n          console.log('Categorías cargadas:', data);\n          this.categories = data || [];\n        },\n        error: (err) => {\n          console.error('Error cargando categorías:', err);\n          this.categoriesError = `No se pudieron cargar categorías desde ${this.apiBase}/categories`;\n        }\n      });\n\n    // Familias\n    this.loadingFamilies = true;\n    this.familiesError = null;\n    this.familyService.list()\n      .pipe(finalize(() => (this.loadingFamilies = false)))\n      .subscribe({\n        next: (data) => {\n          console.log('Familias cargadas:', data);\n          this.families = data || [];\n        },\n        error: (err) => {\n          console.error('Error cargando familias:', err);\n          this.familiesError = `No se pudieron cargar familias desde ${this.apiBase}/families`;\n        }\n      });\n\n    // Laboratorios\n    this.loadingLaboratories = true;\n    this.laboratoriesError = null;\n    this.laboratoryService.list()\n      .pipe(finalize(() => (this.loadingLaboratories = false)))\n      .subscribe({\n        next: (data) => {\n          console.log('Laboratorios cargados:', data);\n          this.laboratories = data || [];\n        },\n        error: (err) => {\n          console.error('Error cargando laboratorios:', err);\n          this.laboratoriesError = `No se pudieron cargar laboratorios desde ${this.apiBase}/laboratories`;\n        }\n      });\n  }\n\n  loadProduct(id: number): void {\n    this.productService.getById(id).subscribe({\n      next: (data: Product) => {\n        this.product = data;\n        // Preseleccionar IDs en modo edición si existen (con tolerancia a distintos nombres de campos)\n        this.selectedCategoryId = (data as any)?.category?.idCategory ?? (data as any)?.category?.idCategoria ?? null;\n        this.selectedFamilyId = (data as any)?.family?.idFamily ?? (data as any)?.family?.idFamilia ?? null;\n        this.selectedLaboratoryId = (data as any)?.laboratory?.idLaboratory ?? (data as any)?.laboratory?.idLaboratorio ?? null;\n      },\n      error: (err: any) => {\n        console.error('Error al cargar producto:', err);\n        alert('Error al cargar el producto');\n        this.router.navigate(['/product']);\n      }\n    });\n  }\n\n  save(form: NgForm): void {\n    if (form.invalid) {\n      // Evitar enviar si el formulario es inválido\n      form.control.markAllAsTouched();\n      return;\n    }\n    // Preparar payload limpio - solo enviar campos que tienen valor\n    const payload: any = {\n      name: this.product.name,\n      expired: this.product.expired || false\n    };\n\n    // Agregar relaciones como objetos anidados (patrón común en Spring/JPA)\n    if (this.selectedCategoryId != null) {\n      payload.category = { idCategory: Number(this.selectedCategoryId) };\n    }\n    if (this.selectedFamilyId != null) {\n      payload.family = { idFamily: Number(this.selectedFamilyId) };\n    }\n    if (this.selectedLaboratoryId != null) {\n      payload.laboratory = { idLaboratory: Number(this.selectedLaboratoryId) };\n    }\n\n    // Solo agregar campos opcionales si tienen valor válido (no vacíos ni 0)\n    if (this.product.description && this.product.description.trim()) {\n      payload.description = this.product.description;\n    }\n    if (this.product.presentation && this.product.presentation.trim()) {\n      payload.presentation = this.product.presentation;\n    }\n    if (this.product.stock && this.product.stock > 0) {\n      payload.stock = this.product.stock;\n    }\n    if (this.product.unitPrice && this.product.unitPrice > 0) {\n      payload.unitPrice = this.product.unitPrice;\n    }\n\n  console.log('Payload a enviar:', JSON.stringify(payload, null, 2));\n\n    if (this.isEditMode && this.productId) {\n      payload.idProduct = this.productId;\n      this.productService.update(payload).subscribe({\n        next: (response) => {\n          console.log('Producto actualizado:', response);\n          alert('Producto actualizado exitosamente');\n          setTimeout(() => this.router.navigate(['/product']), 100);\n        },\n        error: (err: any) => {\n          console.error('Error completo:', err);\n          console.error('Error response:', err.error);\n          const msg = err?.error?.message || err?.error?.error || err?.message || 'Error desconocido';\n          alert(`Error al actualizar: ${msg}`);\n        }\n      });\n    } else {\n      this.productService.save(payload).subscribe({\n        next: (response) => {\n          console.log('Producto guardado:', response);\n          alert('Producto guardado exitosamente');\n          setTimeout(() => this.router.navigate(['/product']), 100);\n        },\n        error: (err: any) => {\n          console.error('Error completo:', err);\n          console.error('Error response:', err.error);\n          const msg = err?.error?.message || err?.error?.error || err?.message || 'Error desconocido';\n          alert(`Error al guardar: ${msg}`);\n        }\n      });\n    }\n  }\n\n  // Comparadores para selects\n  compareCategory = (a: Category | null, b: Category | null) => a && b ? a.idCategory === b.idCategory : a === b;\n  compareFamily = (a: Family | null, b: Family | null) => a && b ? a.idFamily === b.idFamily : a === b;\n  compareLaboratory = (a: Laboratory | null, b: Laboratory | null) => a && b ? a.idLaboratory === b.idLaboratory : a === b;\n\n  cancel(): void {\n    this.router.navigate(['/product']);\n  }\n}","<h2>{{ isEditMode ? 'Editar Producto' : 'Nuevo Producto' }}</h2>\n<form (ngSubmit)=\"save(f)\" #f=\"ngForm\">\n  <label>Nombre</label>\n  <input name=\"name\" [(ngModel)]=\"product.name\" required />\n  \n  <label>Descripción (opcional)</label>\n  <input name=\"description\" [(ngModel)]=\"product.description\" />\n  \n  <label>Presentación (opcional)</label>\n  <input name=\"presentation\" [(ngModel)]=\"product.presentation\" />\n  \n  <label>Stock (opcional)</label>\n  <input type=\"number\" name=\"stock\" [(ngModel)]=\"product.stock\" min=\"0\" />\n  \n  <label>Precio Unitario (opcional)</label>\n  <input type=\"number\" name=\"unitPrice\" [(ngModel)]=\"product.unitPrice\" min=\"0.01\" step=\"0.01\" />\n  \n  <label>\n    <input type=\"checkbox\" name=\"expired\" [(ngModel)]=\"product.expired\" />\n    Vencido\n  </label>\n  \n  <label>Categoría</label>\n  <select name=\"categoryId\" [(ngModel)]=\"selectedCategoryId\" required>\n    <option [ngValue]=\"null\">-- Seleccione --</option>\n    <option *ngFor=\"let c of categories\" [ngValue]=\"c.idCategory ?? c.idCategoria ?? c.id\">{{ c.name ?? c.nombre ?? c.descripcion ?? c.description }}</option>\n  </select>\n  <div class=\"error\" *ngIf=\"f.submitted && selectedCategoryId === null\">Seleccione una categoría.</div>\n  <div class=\"error\" *ngIf=\"categoriesError\">{{ categoriesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n  <div *ngIf=\"loadingCategories\">Cargando categorías...</div>\n\n  <label>Familia</label>\n  <select name=\"familyId\" [(ngModel)]=\"selectedFamilyId\" required>\n    <option [ngValue]=\"null\">-- Seleccione --</option>\n    <option *ngFor=\"let f of families\" [ngValue]=\"f.idFamily ?? f.idFamilia ?? f.id\">{{ f.name ?? f.nombre ?? f.descripcion ?? f.description }}</option>\n  </select>\n  <div class=\"error\" *ngIf=\"f.submitted && selectedFamilyId === null\">Seleccione una familia.</div>\n  <div class=\"error\" *ngIf=\"familiesError\">{{ familiesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n  <div *ngIf=\"loadingFamilies\">Cargando familias...</div>\n\n  <label>Laboratorio</label>\n  <select name=\"laboratoryId\" [(ngModel)]=\"selectedLaboratoryId\" required>\n    <option [ngValue]=\"null\">-- Seleccione --</option>\n    <option *ngFor=\"let l of laboratories\" [ngValue]=\"l.idLaboratory ?? l.idLaboratorio ?? l.id\">{{ l.name ?? l.nombre ?? l.descripcion ?? l.description }}</option>\n  </select>\n  <div class=\"error\" *ngIf=\"f.submitted && selectedLaboratoryId === null\">Seleccione un laboratorio.</div>\n  <div class=\"error\" *ngIf=\"laboratoriesError\">{{ laboratoriesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n  <div *ngIf=\"loadingLaboratories\">Cargando laboratorios...</div>\n\n  <button type=\"submit\" [disabled]=\"!f.valid\">{{ isEditMode ? 'Actualizar' : 'Guardar' }}</button>\n  <button type=\"button\" (click)=\"cancel()\">Cancelar</button>\n</form>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}