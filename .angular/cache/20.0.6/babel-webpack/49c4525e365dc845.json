{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { finalize } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_service/product.service\";\nimport * as i2 from \"../_service/category.service\";\nimport * as i3 from \"../_service/family.service\";\nimport * as i4 from \"../_service/laboratory.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction ProductFormComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", c_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(c_r2.name);\n  }\n}\nfunction ProductFormComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_13_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.categoriesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando categor\\u00EDas...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", f_r5);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(f_r5.name);\n  }\n}\nfunction ProductFormComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_21_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.familiesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando familias...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const l_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", l_r7);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(l_r7.name);\n  }\n}\nfunction ProductFormComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_div_29_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.loadCatalogs());\n    });\n    i0.ɵɵtext(3, \"Reintentar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.laboratoriesError, \" \");\n  }\n}\nfunction ProductFormComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando laboratorios...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProductFormComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ProductFormComponent {\n    constructor(productService, categoryService, familyService, laboratoryService, route, router) {\n      this.productService = productService;\n      this.categoryService = categoryService;\n      this.familyService = familyService;\n      this.laboratoryService = laboratoryService;\n      this.route = route;\n      this.router = router;\n      this.product = {\n        name: '',\n        description: '',\n        presentation: '',\n        stock: 0,\n        unitPrice: 0,\n        expired: false\n      };\n      this.isEditMode = false;\n      this.categories = [];\n      this.families = [];\n      this.laboratories = [];\n      // Flags de carga y error para catálogos\n      this.loadingCategories = false;\n      this.loadingFamilies = false;\n      this.loadingLaboratories = false;\n      this.categoriesError = null;\n      this.familiesError = null;\n      this.laboratoriesError = null;\n      this.apiBase = environment.apiUrl;\n      // Comparadores para selects\n      this.compareCategory = (a, b) => a && b ? a.idCategory === b.idCategory : a === b;\n      this.compareFamily = (a, b) => a && b ? a.idFamily === b.idFamily : a === b;\n      this.compareLaboratory = (a, b) => a && b ? a.idLaboratory === b.idLaboratory : a === b;\n    }\n    ngOnInit() {\n      // Cargar catálogos\n      this.loadCatalogs();\n      this.route.params.subscribe(params => {\n        if (params['id']) {\n          this.isEditMode = true;\n          this.productId = +params['id'];\n          this.loadProduct(this.productId);\n        }\n      });\n    }\n    loadCatalogs() {\n      // Categorías\n      this.loadingCategories = true;\n      this.categoriesError = null;\n      this.categoryService.list().pipe(finalize(() => this.loadingCategories = false)).subscribe({\n        next: data => this.categories = data || [],\n        error: err => {\n          console.error('Error cargando categorías:', err);\n          this.categoriesError = `No se pudieron cargar categorías desde ${this.apiBase}/categories`;\n        }\n      });\n      // Familias\n      this.loadingFamilies = true;\n      this.familiesError = null;\n      this.familyService.list().pipe(finalize(() => this.loadingFamilies = false)).subscribe({\n        next: data => this.families = data || [],\n        error: err => {\n          console.error('Error cargando familias:', err);\n          this.familiesError = `No se pudieron cargar familias desde ${this.apiBase}/families`;\n        }\n      });\n      // Laboratorios\n      this.loadingLaboratories = true;\n      this.laboratoriesError = null;\n      this.laboratoryService.list().pipe(finalize(() => this.loadingLaboratories = false)).subscribe({\n        next: data => this.laboratories = data || [],\n        error: err => {\n          console.error('Error cargando laboratorios:', err);\n          this.laboratoriesError = `No se pudieron cargar laboratorios desde ${this.apiBase}/laboratories`;\n        }\n      });\n    }\n    loadProduct(id) {\n      this.productService.getById(id).subscribe({\n        next: data => {\n          this.product = data;\n        },\n        error: err => {\n          console.error('Error al cargar producto:', err);\n          alert('Error al cargar el producto');\n          this.router.navigate(['/product']);\n        }\n      });\n    }\n    save() {\n      // Preparar payload con la estructura correcta que espera el backend\n      const payload = {\n        name: this.product.name,\n        description: this.product.description,\n        presentation: this.product.presentation,\n        stock: this.product.stock,\n        unitPrice: this.product.unitPrice,\n        expired: this.product.expired,\n        category: {\n          id: this.product.category?.idCategory\n        },\n        family: {\n          id: this.product.family?.idFamily\n        },\n        laboratory: {\n          id: this.product.laboratory?.idLaboratory\n        }\n      };\n      if (this.isEditMode && this.productId) {\n        this.productService.update(payload).subscribe({\n          next: response => {\n            console.log('Producto actualizado:', response);\n            alert('Producto actualizado exitosamente');\n            setTimeout(() => this.router.navigate(['/product']), 100);\n          },\n          error: err => {\n            console.error('Error al actualizar:', err);\n            const msg = err?.error?.message || err?.message || 'Error desconocido';\n            alert(`Error al actualizar el producto: ${msg}`);\n          }\n        });\n      } else {\n        this.productService.save(payload).subscribe({\n          next: response => {\n            console.log('Producto guardado:', response);\n            alert('Producto guardado exitosamente');\n            setTimeout(() => this.router.navigate(['/product']), 100);\n          },\n          error: err => {\n            console.error('Error al guardar:', err);\n            const msg = err?.error?.message || err?.message || 'Error desconocido';\n            alert(`Error al guardar el producto: ${msg}`);\n          }\n        });\n      }\n    }\n    cancel() {\n      this.router.navigate(['/product']);\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ProductFormComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProductFormComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.FamilyService), i0.ɵɵdirectiveInject(i4.LaboratoryService), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i5.Router));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductFormComponent,\n      selectors: [[\"app-product-form\"]],\n      decls: 35,\n      vars: 22,\n      consts: [[\"f\", \"ngForm\"], [3, \"ngSubmit\"], [\"name\", \"name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"category\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\", \"compareWith\"], [3, \"ngValue\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"error\", 4, \"ngIf\"], [4, \"ngIf\"], [\"name\", \"family\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\", \"compareWith\"], [\"name\", \"laboratory\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\", \"compareWith\"], [\"type\", \"submit\", 3, \"disabled\"], [\"type\", \"button\", 3, \"click\"], [1, \"error\"]],\n      template: function ProductFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 1, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductFormComponent_Template_form_ngSubmit_2_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.save());\n          });\n          i0.ɵɵelementStart(4, \"label\");\n          i0.ɵɵtext(5, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 2);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_6_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.name, $event) || (ctx.product.name = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"label\");\n          i0.ɵɵtext(8, \"Categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"select\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.category, $event) || (ctx.product.category = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(10, \"option\", 4);\n          i0.ɵɵtext(11, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(12, ProductFormComponent_option_12_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, ProductFormComponent_div_13_Template, 4, 1, \"div\", 6)(14, ProductFormComponent_div_14_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementStart(15, \"label\");\n          i0.ɵɵtext(16, \"Familia\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"select\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_17_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.family, $event) || (ctx.product.family = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(18, \"option\", 4);\n          i0.ɵɵtext(19, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(20, ProductFormComponent_option_20_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, ProductFormComponent_div_21_Template, 4, 1, \"div\", 6)(22, ProductFormComponent_div_22_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementStart(23, \"label\");\n          i0.ɵɵtext(24, \"Laboratorio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"select\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_25_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.product.laboratory, $event) || (ctx.product.laboratory = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(26, \"option\", 4);\n          i0.ɵɵtext(27, \"-- Seleccione --\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, ProductFormComponent_option_28_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(29, ProductFormComponent_div_29_Template, 4, 1, \"div\", 6)(30, ProductFormComponent_div_30_Template, 2, 0, \"div\", 7);\n          i0.ɵɵelementStart(31, \"button\", 10);\n          i0.ɵɵtext(32);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function ProductFormComponent_Template_button_click_33_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.cancel());\n          });\n          i0.ɵɵtext(34, \"Cancelar\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const f_r9 = i0.ɵɵreference(3);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Producto\" : \"Nuevo Producto\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.name);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.category);\n          i0.ɵɵproperty(\"compareWith\", ctx.compareCategory);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.categoriesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingCategories);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.family);\n          i0.ɵɵproperty(\"compareWith\", ctx.compareFamily);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.families);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.familiesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingFamilies);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.laboratory);\n          i0.ɵɵproperty(\"compareWith\", ctx.compareLaboratory);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngValue\", null);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.laboratories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.laboratoriesError);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingLaboratories);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !f_r9.valid);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Actualizar\" : \"Guardar\");\n        }\n      },\n      dependencies: [CommonModule, i6.NgForOf, i6.NgIf, FormsModule, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.NgModel, i7.NgForm],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return ProductFormComponent;\n})();","map":{"version":3,"names":["CommonModule","FormsModule","finalize","environment","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","c_r2","ɵɵadvance","ɵɵtextInterpolate","name","ɵɵlistener","ProductFormComponent_div_13_Template_button_click_2_listener","ɵɵrestoreView","_r3","ctx_r3","ɵɵnextContext","ɵɵresetView","loadCatalogs","ɵɵtextInterpolate1","categoriesError","f_r5","ProductFormComponent_div_21_Template_button_click_2_listener","_r6","familiesError","l_r7","ProductFormComponent_div_29_Template_button_click_2_listener","_r8","laboratoriesError","ProductFormComponent","_staticBlock","constructor","productService","categoryService","familyService","laboratoryService","route","router","product","description","presentation","stock","unitPrice","expired","isEditMode","categories","families","laboratories","loadingCategories","loadingFamilies","loadingLaboratories","apiBase","apiUrl","compareCategory","a","b","idCategory","compareFamily","idFamily","compareLaboratory","idLaboratory","ngOnInit","params","subscribe","productId","loadProduct","list","pipe","next","data","error","err","console","id","getById","alert","navigate","save","payload","category","family","laboratory","update","response","log","setTimeout","msg","message","cancel","_","ɵɵdirectiveInject","i1","ProductService","i2","CategoryService","i3","FamilyService","i4","LaboratoryService","i5","ActivatedRoute","Router","selectors","decls","vars","consts","template","ProductFormComponent_Template","rf","ctx","ProductFormComponent_Template_form_ngSubmit_2_listener","_r1","ɵɵtwoWayListener","ProductFormComponent_Template_input_ngModelChange_6_listener","$event","ɵɵtwoWayBindingSet","ProductFormComponent_Template_select_ngModelChange_9_listener","ɵɵtemplate","ProductFormComponent_option_12_Template","ProductFormComponent_div_13_Template","ProductFormComponent_div_14_Template","ProductFormComponent_Template_select_ngModelChange_17_listener","ProductFormComponent_option_20_Template","ProductFormComponent_div_21_Template","ProductFormComponent_div_22_Template","ProductFormComponent_Template_select_ngModelChange_25_listener","ProductFormComponent_option_28_Template","ProductFormComponent_div_29_Template","ProductFormComponent_div_30_Template","ProductFormComponent_Template_button_click_33_listener","ɵɵtwoWayProperty","f_r9","valid","i6","NgForOf","NgIf","i7","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","encapsulation"],"sources":["C:\\Users\\PC-001\\Downloads\\appointmentapp-frontend-MaycolVasquezGallardo\\src\\app\\product\\product-form.component.ts","C:\\Users\\PC-001\\Downloads\\appointmentapp-frontend-MaycolVasquezGallardo\\src\\app\\product\\product-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProductService } from '../_service/product.service';\nimport { Category } from '../_model/category';\nimport { Family } from '../_model/family';\nimport { Laboratory } from '../_model/laboratory';\nimport { CategoryService } from '../_service/category.service';\nimport { FamilyService } from '../_service/family.service';\nimport { LaboratoryService } from '../_service/laboratory.service';\nimport { Product } from '../_model/product';\nimport { finalize } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-product-form',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './product-form.component.html'\n})\nexport class ProductFormComponent implements OnInit {\n  product: Product = { \n    name: '', \n    description: '',\n    presentation: '',\n    stock: 0,\n    unitPrice: 0,\n    expired: false \n  } as Product;\n  isEditMode = false;\n  productId?: number;\n\n  categories: Category[] = [];\n  families: Family[] = [];\n  laboratories: Laboratory[] = [];\n\n  // Flags de carga y error para catálogos\n  loadingCategories = false;\n  loadingFamilies = false;\n  loadingLaboratories = false;\n\n  categoriesError: string | null = null;\n  familiesError: string | null = null;\n  laboratoriesError: string | null = null;\n\n  apiBase = environment.apiUrl;\n\n  constructor(\n    private productService: ProductService,\n    private categoryService: CategoryService,\n    private familyService: FamilyService,\n    private laboratoryService: LaboratoryService,\n    private route: ActivatedRoute,\n    private router: Router\n  ){}\n\n  ngOnInit(): void {\n    // Cargar catálogos\n    this.loadCatalogs();\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.productId = +params['id'];\n        this.loadProduct(this.productId);\n      }\n    });\n  }\n\n  loadCatalogs(): void {\n    // Categorías\n    this.loadingCategories = true;\n    this.categoriesError = null;\n    this.categoryService.list()\n      .pipe(finalize(() => (this.loadingCategories = false)))\n      .subscribe({\n        next: (data) => (this.categories = data || []),\n        error: (err) => {\n          console.error('Error cargando categorías:', err);\n          this.categoriesError = `No se pudieron cargar categorías desde ${this.apiBase}/categories`;\n        }\n      });\n\n    // Familias\n    this.loadingFamilies = true;\n    this.familiesError = null;\n    this.familyService.list()\n      .pipe(finalize(() => (this.loadingFamilies = false)))\n      .subscribe({\n        next: (data) => (this.families = data || []),\n        error: (err) => {\n          console.error('Error cargando familias:', err);\n          this.familiesError = `No se pudieron cargar familias desde ${this.apiBase}/families`;\n        }\n      });\n\n    // Laboratorios\n    this.loadingLaboratories = true;\n    this.laboratoriesError = null;\n    this.laboratoryService.list()\n      .pipe(finalize(() => (this.loadingLaboratories = false)))\n      .subscribe({\n        next: (data) => (this.laboratories = data || []),\n        error: (err) => {\n          console.error('Error cargando laboratorios:', err);\n          this.laboratoriesError = `No se pudieron cargar laboratorios desde ${this.apiBase}/laboratories`;\n        }\n      });\n  }\n\n  loadProduct(id: number): void {\n    this.productService.getById(id).subscribe({\n      next: (data: Product) => {\n        this.product = data;\n      },\n      error: (err: any) => {\n        console.error('Error al cargar producto:', err);\n        alert('Error al cargar el producto');\n        this.router.navigate(['/product']);\n      }\n    });\n  }\n\n  save(): void {\n    // Preparar payload con la estructura correcta que espera el backend\n    const payload: any = {\n      name: this.product.name,\n      description: this.product.description,\n      presentation: this.product.presentation,\n      stock: this.product.stock,\n      unitPrice: this.product.unitPrice,\n      expired: this.product.expired,\n      category: { id: this.product.category?.idCategory },\n      family: { id: this.product.family?.idFamily },\n      laboratory: { id: this.product.laboratory?.idLaboratory }\n    };\n\n    if (this.isEditMode && this.productId) {\n      this.productService.update(payload).subscribe({\n        next: (response) => {\n          console.log('Producto actualizado:', response);\n          alert('Producto actualizado exitosamente');\n          setTimeout(() => this.router.navigate(['/product']), 100);\n        },\n        error: (err: any) => {\n          console.error('Error al actualizar:', err);\n          const msg = err?.error?.message || err?.message || 'Error desconocido';\n          alert(`Error al actualizar el producto: ${msg}`);\n        }\n      });\n    } else {\n      this.productService.save(payload).subscribe({\n        next: (response) => {\n          console.log('Producto guardado:', response);\n          alert('Producto guardado exitosamente');\n          setTimeout(() => this.router.navigate(['/product']), 100);\n        },\n        error: (err: any) => {\n          console.error('Error al guardar:', err);\n          const msg = err?.error?.message || err?.message || 'Error desconocido';\n          alert(`Error al guardar el producto: ${msg}`);\n        }\n      });\n    }\n  }\n\n  // Comparadores para selects\n  compareCategory = (a: Category | null, b: Category | null) => a && b ? a.idCategory === b.idCategory : a === b;\n  compareFamily = (a: Family | null, b: Family | null) => a && b ? a.idFamily === b.idFamily : a === b;\n  compareLaboratory = (a: Laboratory | null, b: Laboratory | null) => a && b ? a.idLaboratory === b.idLaboratory : a === b;\n\n  cancel(): void {\n    this.router.navigate(['/product']);\n  }\n}","<h2>{{ isEditMode ? 'Editar Producto' : 'Nuevo Producto' }}</h2>\n<form (ngSubmit)=\"save()\" #f=\"ngForm\">\n  <label>Nombre</label>\n  <input name=\"name\" [(ngModel)]=\"product.name\" required />\n  \n  <!-- Se eliminan descripción, presentación, stock y precio unitario -->\n  \n   <label>Categoría</label>\n   <select name=\"category\" [(ngModel)]=\"product.category\" [compareWith]=\"compareCategory\" required>\n     <option [ngValue]=\"null\">-- Seleccione --</option>\n     <option *ngFor=\"let c of categories\" [ngValue]=\"c\">{{ c.name }}</option>\n   </select>\n   <div class=\"error\" *ngIf=\"categoriesError\">{{ categoriesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n   <div *ngIf=\"loadingCategories\">Cargando categorías...</div>\n\n   <label>Familia</label>\n   <select name=\"family\" [(ngModel)]=\"product.family\" [compareWith]=\"compareFamily\" required>\n     <option [ngValue]=\"null\">-- Seleccione --</option>\n     <option *ngFor=\"let f of families\" [ngValue]=\"f\">{{ f.name }}</option>\n   </select>\n   <div class=\"error\" *ngIf=\"familiesError\">{{ familiesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n   <div *ngIf=\"loadingFamilies\">Cargando familias...</div>\n\n   <label>Laboratorio</label>\n   <select name=\"laboratory\" [(ngModel)]=\"product.laboratory\" [compareWith]=\"compareLaboratory\" required>\n     <option [ngValue]=\"null\">-- Seleccione --</option>\n     <option *ngFor=\"let l of laboratories\" [ngValue]=\"l\">{{ l.name }}</option>\n   </select>\n   <div class=\"error\" *ngIf=\"laboratoriesError\">{{ laboratoriesError }} <button type=\"button\" (click)=\"loadCatalogs()\">Reintentar</button></div>\n   <div *ngIf=\"loadingLaboratories\">Cargando laboratorios...</div>\n\n  <button type=\"submit\" [disabled]=\"!f.valid\">{{ isEditMode ? 'Actualizar' : 'Guardar' }}</button>\n  <button type=\"button\" (click)=\"cancel()\">Cancelar</button>\n</form>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}